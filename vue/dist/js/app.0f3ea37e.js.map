{"version":3,"file":"js/app.0f3ea37e.js","mappings":"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","sources":["webpack://coco-pose-editor-vue2/./src/App.vue","webpack://coco-pose-editor-vue2/./src/components/CocoPoseEditor.vue","webpack://coco-pose-editor-vue2/src/components/CocoPoseEditor.vue","webpack://coco-pose-editor-vue2/./src/components/CocoPoseEditor.vue?7679","webpack://coco-pose-editor-vue2/./src/components/CocoPoseEditor.vue?b77a","webpack://coco-pose-editor-vue2/./src/components/DatasetUpload.vue","webpack://coco-pose-editor-vue2/src/components/DatasetUpload.vue","webpack://coco-pose-editor-vue2/./src/components/DatasetUpload.vue?e046","webpack://coco-pose-editor-vue2/./src/components/DatasetUpload.vue?6132","webpack://coco-pose-editor-vue2/src/App.vue","webpack://coco-pose-editor-vue2/./src/App.vue?c036","webpack://coco-pose-editor-vue2/./src/App.vue?0e40","webpack://coco-pose-editor-vue2/./src/main.js","webpack://coco-pose-editor-vue2/webpack/bootstrap","webpack://coco-pose-editor-vue2/webpack/runtime/chunk loaded","webpack://coco-pose-editor-vue2/webpack/runtime/define property getters","webpack://coco-pose-editor-vue2/webpack/runtime/global","webpack://coco-pose-editor-vue2/webpack/runtime/hasOwnProperty shorthand","webpack://coco-pose-editor-vue2/webpack/runtime/make namespace object","webpack://coco-pose-editor-vue2/webpack/runtime/jsonp chunk loading","webpack://coco-pose-editor-vue2/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('header',{staticStyle:{\"padding\":\"12px 16px\",\"border-bottom\":\"1px solid #e5e7eb\",\"display\":\"flex\",\"align-items\":\"center\",\"gap\":\"8px\"}},[_c('h1',{staticStyle:{\"font-size\":\"20px\",\"margin-right\":\"16px\"}},[_vm._v(\"MVdecision Pose Search\")]),_c('button',{class:['tab-btn', _vm.currentPage==='editor' ? 'active' : ''],on:{\"click\":function($event){_vm.currentPage='editor'}}},[_vm._v(\" ポーズ編集・検索 \")]),_c('button',{class:['tab-btn', _vm.currentPage==='upload' ? 'active' : ''],on:{\"click\":function($event){_vm.currentPage='upload'}}},[_vm._v(\" データセット登録 \")]),(_vm.searchStatusText)?_c('div',{staticStyle:{\"margin-left\":\"auto\",\"font-size\":\"12px\",\"color\":\"#6b7280\"}},[_vm._v(\" \"+_vm._s(_vm.searchStatusText)+\" \")]):_vm._e()]),_c('main',{staticStyle:{\"padding\":\"0\"}},[(_vm.currentPage === 'editor')?_c('coco-pose-editor',{on:{\"search\":_vm.handleSearch}}):_c('dataset-upload')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full h-full\",staticStyle:{\"padding\":\"16px\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"flex-wrap\":\"wrap\",\"gap\":\"8px\",\"align-items\":\"center\",\"margin-bottom\":\"12px\"}},[_c('strong',[_vm._v(\"CocoPoseEditor (Vue 2)\")]),_c('button',{on:{\"click\":function($event){return _vm.onRotate(-15)}}},[_vm._v(\"Rotate -15°\")]),_c('button',{on:{\"click\":function($event){return _vm.onRotate(15)}}},[_vm._v(\"Rotate +15°\")]),_c('button',{on:{\"click\":function($event){return _vm.onScale(0.9)}}},[_vm._v(\"Scale 90%\")]),_c('button',{on:{\"click\":function($event){return _vm.onScale(1.1)}}},[_vm._v(\"Scale 110%\")]),_c('button',{on:{\"click\":_vm.onMirror}},[_vm._v(\"Mirror LR\")]),_c('label',{staticStyle:{\"margin-left\":\"8px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ikEnabled),expression:\"ikEnabled\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.ikEnabled)?_vm._i(_vm.ikEnabled,null)>-1:(_vm.ikEnabled)},on:{\"change\":function($event){var $$a=_vm.ikEnabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.ikEnabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.ikEnabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.ikEnabled=$$c}}}}),_vm._v(\" 2-bone IK (wrists/ankles) \")]),_c('button',{staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":_vm.onReset}},[_vm._v(\"Reset\")]),_c('button',{staticStyle:{\"margin-left\":\"4px\"},on:{\"click\":_vm.onSavePose}},[_vm._v(\"Save pose\")]),_c('button',{staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":_vm.onExport}},[_vm._v(\"Export JSON\")]),_c('button',{staticClass:\"btn-search\",staticStyle:{\"margin-left\":\"8px\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"検索\")]),_c('label',{staticStyle:{\"margin-left\":\"8px\",\"cursor\":\"pointer\"}},[_vm._v(\" Import JSON \"),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"application/json\"},on:{\"change\":_vm.onImport}})]),_c('label',{staticStyle:{\"margin-left\":\"8px\",\"cursor\":\"pointer\"}},[_vm._v(\" Background \"),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\"image/*\"},on:{\"change\":_vm.onBgUpload}})])]),_c('div',{staticStyle:{\"border\":\"1px solid #ddd\",\"border-radius\":\"12px\",\"overflow\":\"hidden\"}},[_c('canvas',{ref:\"canvas\",attrs:{\"width\":_vm.W,\"height\":_vm.H},on:{\"mousedown\":_vm.onMouseDown,\"mousemove\":_vm.onMouseMove,\"mouseup\":_vm.onMouseUp,\"mouseleave\":_vm.onMouseUp}})]),_c('p',{staticStyle:{\"color\":\"#555\",\"margin-top\":\"10px\"}},[_vm._v(\" 使い方：青い点（関節）をドラッグで配置。グレーは保存済みのポーズ。 手首/足首をドラッグすると、肘/膝が長さを保って追従（2-bone IK）。 Mirror/Rotate/Scale/Reset、背景画像、JSON入出力、ポーズ保存、検索に対応。 \")]),(_vm.results.length)?_c('div',{staticClass:\"search-results\"},[_c('h3',[_vm._v(\"検索結果（\"+_vm._s(_vm.results.length)+\"件）\")]),_c('div',{staticClass:\"grid\"},_vm._l((_vm.results),function(r){return _c('div',{key:r.id,staticClass:\"card\"},[_c('div',{staticClass:\"thumb-wrap\"},[_c('img',{attrs:{\"src\":_vm.imageUrl(r),\"alt\":\"pose result\",\"loading\":\"lazy\"},on:{\"error\":_vm.onImgError}})]),_c('div',{staticClass:\"meta\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(r.displayPath))]),_c('div',{staticClass:\"distance\"},[_vm._v(\"dist: \"+_vm._s(r.distance.toFixed(3)))])])])}),0)]):(_vm.searchedOnce)?_c('div',{staticClass:\"search-empty\"},[_c('em',[_vm._v(\"該当なし、または距離がしきい値を超えているため表示されていません。\")])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"w-full h-full\" style=\"padding:16px;\">\n    <div style=\"display:flex;flex-wrap:wrap;gap:8px;align-items:center;margin-bottom:12px;\">\n      <strong>CocoPoseEditor (Vue 2)</strong>\n      <button @click=\"onRotate(-15)\">Rotate -15°</button>\n      <button @click=\"onRotate(15)\">Rotate +15°</button>\n      <button @click=\"onScale(0.9)\">Scale 90%</button>\n      <button @click=\"onScale(1.1)\">Scale 110%</button>\n      <button @click=\"onMirror\">Mirror LR</button>\n      <label style=\"margin-left:8px;\">\n        <input type=\"checkbox\" v-model=\"ikEnabled\" />\n        2-bone IK (wrists/ankles)\n      </label>\n\n      <button @click=\"onReset\" style=\"margin-left:8px;\">Reset</button>\n      <button @click=\"onSavePose\" style=\"margin-left:4px;\">Save pose</button>\n      <button @click=\"onExport\" style=\"margin-left:8px;\">Export JSON</button>\n\n      <!-- ★ バックエンドに投げて検索するボタン -->\n      <button @click=\"onSearch\" class=\"btn-search\" style=\"margin-left:8px;\">検索</button>\n\n      <label style=\"margin-left:8px;cursor:pointer;\">\n        Import JSON\n        <input type=\"file\" accept=\"application/json\" style=\"display:none\" @change=\"onImport\">\n      </label>\n      <label style=\"margin-left:8px;cursor:pointer;\">\n        Background\n        <input type=\"file\" accept=\"image/*\" style=\"display:none\" @change=\"onBgUpload\">\n      </label>\n    </div>\n\n    <div style=\"border:1px solid #ddd; border-radius:12px; overflow:hidden;\">\n      <canvas ref=\"canvas\" :width=\"W\" :height=\"H\"\n              @mousedown=\"onMouseDown\"\n              @mousemove=\"onMouseMove\"\n              @mouseup=\"onMouseUp\"\n              @mouseleave=\"onMouseUp\"></canvas>\n    </div>\n\n    <p style=\"color:#555;margin-top:10px;\">\n      使い方：青い点（関節）をドラッグで配置。グレーは保存済みのポーズ。\n      手首/足首をドラッグすると、肘/膝が長さを保って追従（2-bone IK）。\n      Mirror/Rotate/Scale/Reset、背景画像、JSON入出力、ポーズ保存、検索に対応。\n    </p>\n\n    <!-- ★ 検索結果の表示エリア -->\n    <div v-if=\"results.length\" class=\"search-results\">\n      <h3>検索結果（{{ results.length }}件）</h3>\n      <div class=\"grid\">\n        <div v-for=\"r in results\" :key=\"r.id\" class=\"card\">\n          <div class=\"thumb-wrap\">\n            <img\n              :src=\"imageUrl(r)\"\n              alt=\"pose result\"\n              loading=\"lazy\"\n              @error=\"onImgError\"\n            />\n          </div>\n     <div class=\"meta\">\n      <!-- ★ フルパスをそのままタイトルとして表示 -->\n      <div class=\"title\">{{ r.displayPath }}</div>\n      <div class=\"distance\">dist: {{ r.distance.toFixed(3) }}</div>\n    </div>\n\n        </div>\n      </div>\n    </div>\n\n    <div v-else-if=\"searchedOnce\" class=\"search-empty\">\n      <em>該当なし、または距離がしきい値を超えているため表示されていません。</em>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'CocoPoseEditor',\n  data() {\n    const W = 1200, H = 800;\n    return {\n      W, H,\n      ctx: null,\n      points: initPose(W, H),     // 現在編集中の17点\n      savedPoses: [],             // 過去に Save されたポーズ一覧（履歴）\n      currentVersion: -1,         // 今どのバージョンを見ているか（-1 は「未保存の最新」）\n      dragIdx: null,\n      ikEnabled: true,\n      bgImg: null,\n\n      // ★ 検索関連\n      featurePreview: null,       // サーバから返ってきた featureVector\n      results: [],                // 類似検索の結果配列\n      searchedOnce: false,        // 一度でも検索を実行したかどうか\n    };\n  },\n  mounted() {\n    const c = this.$refs.canvas.getContext('2d');\n    this.ctx = c;\n    this.draw();\n  },\n  beforeDestroy() {\n    window.removeEventListener('mousemove', this.onMouseMove);\n    window.removeEventListener('mouseup', this.onMouseUp);\n  },\n  watch: {\n    points: {\n      deep: true,\n      handler() { this.draw(); }\n    },\n    bgImg() { this.draw(); }\n  },\n  computed: {\n    center() {\n      const L = this.points[11], R = this.points[12];\n      return [(L[0] + R[0]) * 0.5, (L[1] + R[1]) * 0.5];\n    }\n  },\n  methods: {\n    // ===== 描画 =====\n    draw() {\n      if (!this.ctx) return;\n      const c = this.ctx, { W, H } = this;\n      c.clearRect(0,0,W,H);\n      c.fillStyle = '#fff';\n      c.fillRect(0,0,W,H);\n      if (this.bgImg) c.drawImage(this.bgImg, 0, 0, W, H);\n\n      // 保存済みポーズ（グレー）を描画\n      this.savedPoses.forEach(pose => {\n        const pts = pose.points;\n        // 骨\n        c.lineWidth = 2;\n        c.strokeStyle = 'rgba(107,114,128,0.5)'; // gray-500, 半透明\n        EDGES.forEach(([a,b]) => {\n          const pa = pts[a], pb = pts[b];\n          if (!pa || !pb) return;\n          c.beginPath(); c.moveTo(pa[0], pa[1]); c.lineTo(pb[0], pb[1]); c.stroke();\n        });\n        // 点\n        pts.forEach(p => {\n          c.beginPath();\n          c.arc(p[0], p[1], 5, 0, Math.PI*2);\n          c.fillStyle = 'rgba(156,163,175,0.9)'; // gray-400\n          c.fill();\n        });\n      });\n\n      // 現在編集中のポーズ（青）\n      c.lineWidth = 3;\n      c.strokeStyle = '#1f2937';\n      EDGES.forEach(([a,b]) => {\n        const pa = this.points[a], pb = this.points[b];\n        if (!pa || !pb) return;\n        c.beginPath(); c.moveTo(pa[0], pa[1]); c.lineTo(pb[0], pb[1]); c.stroke();\n      });\n\n      this.points.forEach((p,i) => {\n        c.beginPath(); c.arc(p[0], p[1], 7, 0, Math.PI*2);\n        c.fillStyle = (i === this.dragIdx) ? '#f59e0b' : '#2563eb';\n        c.fill();\n        c.font = '12px Menlo, ui-monospace';\n        c.fillStyle = '#111827';\n        c.fillText(`${i}:${KP_NAMES[i]}`, p[0] + 10, p[1] - 10);\n      });\n    },\n\n    // ===== マウス操作 =====\n    pick(x,y) {\n      for (let i=this.points.length-1; i>=0; i--) {\n        const p = this.points[i];\n        if (Math.hypot(p[0]-x, p[1]-y) <= 10) return i;\n      }\n      return null;\n    },\n    toCanvasXY(e) {\n      const rect = this.$refs.canvas.getBoundingClientRect();\n      const sx = this.W / rect.width;\n      const sy = this.H / rect.height;\n      const x = (e.clientX - rect.left) * sx;\n      const y = (e.clientY - rect.top)  * sy;\n      return [x, y];\n    },\n    onMouseDown(e) {\n      const [x, y] = this.toCanvasXY(e);\n      this.dragIdx = this.pick(x,y);\n      if (this.dragIdx !== null) {\n        window.addEventListener('mousemove', this.onMouseMove);\n        window.addEventListener('mouseup', this.onMouseUp);\n        this.onMouseMove(e);\n      }\n    },\n    onMouseMove(e) {\n      if (this.dragIdx === null) return;\n      const [x, y] = this.toCanvasXY(e);\n      const P = this.points.map(p => [p[0], p[1]]);\n      const idx = this.dragIdx;\n\n      const isLW = idx===9,  isRW = idx===10;\n      const isLA = idx===15, isRA = idx===16;\n\n      const setDirect = () => { P[idx] = [x,y]; };\n\n      if (this.ikEnabled && (isLW || isRW || isLA || isRA)) {\n        if (isLW) {\n          const { newJoint, newEnd } = solveTwoBone(P[5], P[7], P[9], [x,y]);\n          P[7]=newJoint; P[9]=newEnd;\n        } else if (isRW) {\n          const { newJoint, newEnd } = solveTwoBone(P[6], P[8], P[10], [x,y]);\n          P[8]=newJoint; P[10]=newEnd;\n        } else if (isLA) {\n          const { newJoint, newEnd } = solveTwoBone(P[11], P[13], P[15], [x,y]);\n          P[13]=newJoint; P[15]=newEnd;\n        } else if (isRA) {\n          const { newJoint, newEnd } = solveTwoBone(P[12], P[14], P[16], [x,y]);\n          P[14]=newJoint; P[16]=newEnd;\n        }\n      } else {\n        setDirect();\n      }\n      this.points = P;\n    },\n    onMouseUp() {\n      this.dragIdx = null;\n      window.removeEventListener('mousemove', this.onMouseMove);\n      window.removeEventListener('mouseup', this.onMouseUp);\n    },\n\n    // ===== 変形 =====\n    transformAll(fn) { this.points = this.points.map(fn); },\n    onMirror() {\n      const cx = this.center[0];\n      this.transformAll(p => [2*cx - p[0], p[1]]);\n      const swap = (a,b) => { const t=this.points[a]; this.points[a]=this.points[b]; this.points[b]=t; };\n      [[1,2],[3,4],[5,6],[7,8],[9,10],[11,12],[13,14],[15,16]].forEach(([a,b]) => swap(a,b));\n      this.draw();\n    },\n    onRotate(deg) {\n      const th = deg * Math.PI / 180;\n      const c = Math.cos(th), s = Math.sin(th);\n      const ctr = this.center;\n      this.transformAll(p => {\n        const v = [p[0]-ctr[0], p[1]-ctr[1]];\n        const r = [v[0]*c - v[1]*s, v[0]*s + v[1]*c];\n        return [ctr[0]+r[0], ctr[1]+r[1]];\n      });\n      this.draw();\n    },\n    onScale(sf) {\n      const ctr = this.center;\n      this.transformAll(p => [ctr[0] + (p[0]-ctr[0])*sf, ctr[1] + (p[1]-ctr[1])*sf]);\n      this.draw();\n    },\n\n    // ===== Reset / Save pose バージョン管理 =====\n    onReset() {\n      if (this.currentVersion === -1) {\n        this.points = initPose(this.W, this.H);\n      } else {\n        const saved = this.savedPoses[this.currentVersion];\n        if (!saved) return;\n        this.points = saved.points.map(p => [p[0], p[1]]);\n        this.currentVersion = Math.max(-1, this.currentVersion - 1);\n        if (this.currentVersion >= 0) {\n          const prev = this.savedPoses[this.currentVersion];\n          if (prev) {\n            this.points = prev.points.map(p => [p[0], p[1]]);\n          }\n        } else {\n          this.points = initPose(this.W, this.H);\n        }\n      }\n    },\n\n    onSavePose() {\n      const snapshot = this.points.map(p => [p[0], p[1]]);\n      this.savedPoses.push({ points: snapshot });\n      this.currentVersion = this.savedPoses.length - 1;\n      this.points = snapshot.map(p => [p[0], p[1]]);\n      this.draw();\n    },\n\n    // ===== 類似検索（バックエンド呼び出し）=====\n    async onSearch() {\n      try {\n        // 1) 今のキャンバス上の17点を [ [x,y], ... ] に変換\n        const keypoints = this.points.map(p => [p[0], p[1]]);\n      \n        // 2) まず /api/query/pose/feature で featureVector を計算\n        const featureRes = await axios.post('/api/query/pose/feature', {\n          keypoints: keypoints,\n        });\n      \n        const featureVector = featureRes.data.featureVector;\n        // （必要なら正規化済みを可視化したいとき）\n        // const normalized = featureRes.data.normalizedKeypoints;\n      \n        // 3) 計算した featureVector を使って /api/query/pose/search で類似検索\n        const searchRes = await axios.post('/api/query/pose/search', {\n          featureVector: featureVector, // ★ここが重要\n          topK: 15,                     // 任意。省略時はサーバ側で 10 にしている\n        });\n      \n        // 期待レスポンス：\n        // { featureVector: \"...\", results: [{ id, datasetName, imageFileName, imagePath, distance }, ...] }\n        this.featurePreview = { featureVector: searchRes.data.featureVector };\n      \n        this.results = (searchRes.data.results || []).map(r => ({\n          id: r.id,\n          datasetName: r.datasetName,\n          imageFileName: r.imageFileName,\n          imagePath: r.imagePath,\n          sourceImagePath: r.sourceImagePath,  // ★ 追加\n          distance: r.distance,\n          displayPath: r.displayPath || `${r.datasetName}/${r.imageFileName}`,\n        }));\n\n    this.searchedOnce = true;\n  } catch (err) {\n    console.error('Search failed:', err);\n    alert('検索に失敗しました。サーバのログを確認してください。');\n  }\n},\n\n\n    imageUrl(r) {\n      // ImageController の /api/images/{id} にあわせる\n      return `/api/images/${r.id}`;\n    },\n\n    onImgError(ev) {\n      ev.target.src =\n        'data:image/svg+xml;utf8,' +\n        encodeURIComponent(\n          `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"240\" height=\"180\"><rect width=\"100%\" height=\"100%\" fill=\"#eee\"/><text x=\"50%\" y=\"50%\" text-anchor=\"middle\" fill=\"#999\" font-size=\"16\">No Image</text></svg>`\n        );\n    },\n\n    // ===== I/O =====\n    onExport() {\n      const out = {\n        keypoints: this.points.map((p,i) => ({ id:i, name:KP_NAMES[i], x:p[0], y:p[1], v:2 })),\n        width: this.W, height: this.H,\n      };\n      const blob = new Blob([JSON.stringify(out,null,2)], { type:'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url; a.download = 'coco17_query.json'; a.click();\n      URL.revokeObjectURL(url);\n    },\n    onImport(e) {\n      const file = e.target.files && e.target.files[0];\n      if (!file) return;\n      const fr = new FileReader();\n      fr.onload = () => {\n        try {\n          const j = JSON.parse(String(fr.result));\n          const persons = Array.isArray(j.persons) ? j.persons : [];\n          if (!persons.length) throw new Error('persons array is empty');\n          const pickPerson = (arr) => {\n            let best = null, bestScore = -Infinity;\n            arr.forEach(p => {\n              const sc = Array.isArray(p.keypoint_scores) && p.keypoint_scores.length\n                ? p.keypoint_scores.reduce((a,b)=>a+Number(b||0),0) / p.keypoint_scores.length\n                : 0;\n              if (sc > bestScore) { bestScore = sc; best = p; }\n            });\n            return best || arr[0];\n          };\n          const person = pickPerson(persons);\n          const rawKps = Array.isArray(person.keypoints) ? person.keypoints : [];\n          let pts = rawKps.map(v => [Number(v[0])||0, Number(v[1])||0]).slice(0,17);\n          while (pts.length < 17) {\n            pts.push(pts[pts.length-1] ? [...pts[pts.length-1]] : [0,0]);\n          }\n          const fitted = fitPointsToCanvas(pts, this.W, this.H, 40);\n          this.points = fitted;\n        } catch (err) {\n          console.warn('Invalid Import JSON:', err);\n          alert('Import 失敗：JSON 形式を確認してください。');\n        }\n      };\n      fr.readAsText(file);\n    },\n    onBgUpload(e) {\n      const file = e.target.files && e.target.files[0];\n      if (!file) return;\n      const url = URL.createObjectURL(file);\n      const img = new Image();\n      img.onload = () => { this.bgImg = img; this.draw(); };\n      img.src = url;\n    },\n  }\n};\n\n// ===== 定数 / ヘルパ =====\nconst KP_NAMES = [\n  'nose', 'left_eye','right_eye', 'left_ear','right_ear',\n  'left_shoulder','right_shoulder','left_elbow','right_elbow',\n  'left_wrist','right_wrist','left_hip','right_hip',\n  'left_knee','right_knee','left_ankle','right_ankle'\n];\n\nconst EDGES = [\n  [5,7],[7,9], [6,8],[8,10],\n  [11,13],[13,15], [12,14],[14,16],\n  [5,6], [11,12], [5,11],[6,12],\n  [0,1],[0,2],[1,3],[2,4], [0,5],[0,6],\n];\n\nfunction initPose(W,H){\n  const cx=W*0.35, cy=H*0.35, s=Math.min(W,H)*0.15;\n  const pts = Array(17).fill(0).map(()=>[cx,cy]);\n  pts[11]=[cx-s*0.25,cy+s*0.7]; pts[12]=[cx+s*0.25,cy+s*0.7];\n  pts[5]=[cx-s*0.35,cy+s*0.2];  pts[6]=[cx+s*0.35,cy+s*0.2];\n  pts[7]=[cx-s*0.7, cy+s*0.25]; pts[8]=[cx+s*0.7, cy+s*0.25];\n  pts[9]=[cx-s,     cy+s*0.3];  pts[10]=[cx+s,     cy+s*0.3];\n  pts[13]=[cx-s*0.2, cy+s*1.2]; pts[14]=[cx+s*0.2, cy+s*1.2];\n  pts[15]=[cx-s*0.18,cy+s*1.7]; pts[16]=[cx+s*0.18,cy+s*1.7];\n  pts[0]=[cx, cy-s*0.2];\n  pts[1]=[cx-s*0.08, cy-s*0.22]; pts[2]=[cx+s*0.08, cy-s*0.22];\n  pts[3]=[cx-s*0.14, cy-s*0.18]; pts[4]=[cx+s*0.14, cy-s*0.18];\n  return pts;\n}\n\n// 2ボーンIK\nfunction solveTwoBone(root, joint, end, target){\n  const sub=(a,b)=>[a[0]-b[0], a[1]-b[1]];\n  const add=(a,b)=>[a[0]+b[0], a[1]+b[1]];\n  const mul=(a,s)=>[a[0]*s, a[1]*s];\n  const len=a=>Math.hypot(a[0], a[1]);\n  const norm=a=>{const L=len(a); return L>1e-8?[a[0]/L,a[1]/L]:[0,0];};\n  const clamp=(x,lo,hi)=>Math.min(Math.max(x,lo),hi);\n\n  const r=root, v1=sub(joint,root);\n  const L1=len(v1);\n  const L2=len(sub(end,joint));\n  const rt=sub(target,r);\n  const d=Math.max(1e-6, Math.min(len(rt), L1+L2-1e-6));\n  const u=norm(rt);\n  const cosA=clamp((L1*L1 + d*d - L2*L2)/(2*L1*d), -1, 1);\n  const sinA=Math.sqrt(Math.max(0,1-cosA*cosA));\n  const crossSign = Math.sign(u[0]*v1[1]-u[1]*v1[0]) || 1;\n  const ortho=[-u[1], u[0]];\n  const newJoint = add(r, add(mul(u, L1*cosA), mul(ortho, L1*sinA*crossSign)));\n  const newEnd   = add(newJoint, mul(norm(sub(target, newJoint)), L2));\n  return { newJoint, newEnd };\n}\n\n// 点群をキャンバスにフィット\nfunction fitPointsToCanvas(pts, W, H, margin=40) {\n  let minX=Infinity, minY=Infinity, maxX=-Infinity, maxY=-Infinity;\n  pts.forEach(([x,y]) => {\n    if (Number.isFinite(x) && Number.isFinite(y)) {\n      if (x<minX) minX=x; if (y<minY) minY=y;\n      if (x>maxX) maxX=x; if (y>maxY) maxY=y;\n    }\n  });\n  if (!isFinite(minX) || !isFinite(minY) || !isFinite(maxX) || !isFinite(maxY)) {\n    return initPose(W, H);\n  }\n  const bw = Math.max(1, maxX - minX);\n  const bh = Math.max(1, maxY - minY);\n  const sx = (W - 2*margin) / bw;\n  const sy = (H - 2*margin) / bh;\n  const s = Math.min(sx, sy);\n  const cxCanvas = W/2, cyCanvas = H/2;\n  const cxData = (minX + maxX) / 2;\n  const cyData = (minY + maxY) / 2;\n\n  return pts.map(([x,y]) => {\n    const nx = (x - cxData) * s + cxCanvas;\n    const ny = (y - cyData) * s + cyCanvas;\n    return [nx, ny];\n  });\n}\n</script>\n\n<style scoped>\nbutton {\n  padding: 6px 10px;\n  border:1px solid #ddd;\n  border-radius: 999px;\n  background: #fff;\n  cursor: pointer;\n}\nbutton:active { transform: scale(0.98); }\ncanvas { display:block; width:100%; height:auto; }\n\n/* 検索結果のスタイル */\n.btn-search {\n  background: #000;\n  color: #fff;\n  border-color: #000;\n}\n\n.feature-preview {\n  margin-top: 16px;\n  padding: 8px 10px;\n  background: #f9fafb;\n  border-radius: 6px;\n  font-family: Menlo, ui-monospace;\n  word-break: break-all;\n  font-size: 12px;\n}\n\n.search-results {\n  margin-top: 16px;\n}\n\n.search-results h3 {\n  margin-bottom: 8px;\n  font-size: 14px;\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\n  gap: 12px;\n}\n\n.card {\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  background: #fff;\n  overflow: hidden;\n  font-size: 12px;\n}\n\n.thumb-wrap {\n  width: 100%;\n  aspect-ratio: 4 / 3;\n  background: #f3f4f6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.thumb-wrap img {\n  max-width: 100%;\n  max-height: 100%;\n  display: block;\n}\n\n.meta {\n  padding: 6px 8px 8px;\n}\n\n.meta .title {\n  font-weight: 600;\n  margin-bottom: 4px;\n}\n\n.meta .distance {\n  color: #6b7280;\n}\n\n.search-empty {\n  margin-top: 16px;\n  color: #6b7280;\n  font-size: 13px;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CocoPoseEditor.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CocoPoseEditor.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CocoPoseEditor.vue?vue&type=template&id=e4c68e96&scoped=true\"\nimport script from \"./CocoPoseEditor.vue?vue&type=script&lang=js\"\nexport * from \"./CocoPoseEditor.vue?vue&type=script&lang=js\"\nimport style0 from \"./CocoPoseEditor.vue?vue&type=style&index=0&id=e4c68e96&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e4c68e96\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dataset-upload\",staticStyle:{\"padding\":\"16px\"}},[_c('h2',{staticStyle:{\"font-size\":\"20px\",\"margin-bottom\":\"8px\"}},[_vm._v(\"データセット登録（画像＋JSON zip）\")]),_vm._m(0),_c('div',{staticStyle:{\"border\":\"1px solid #ddd\",\"border-radius\":\"12px\",\"padding\":\"16px\",\"max-width\":\"520px\"}},[_c('input',{attrs:{\"type\":\"file\",\"accept\":\".zip\"},on:{\"change\":_vm.onFileChange}}),(_vm.selectedFile)?_c('div',{staticStyle:{\"margin-top\":\"8px\"}},[_vm._v(\" 選択中: \"),_c('strong',[_vm._v(_vm._s(_vm.selectedFile.name))])]):_vm._e(),_c('button',{staticStyle:{\"margin-top\":\"12px\"},attrs:{\"disabled\":!_vm.selectedFile || _vm.uploading},on:{\"click\":_vm.onUpload}},[_vm._v(\" \"+_vm._s(_vm.uploading ? 'アップロード中...' : 'アップロード')+\" \")]),(_vm.message)?_c('p',{style:({marginTop:'12px', color: _vm.messageColor})},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]):_vm._e()]),_vm._m(1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',{staticStyle:{\"margin-bottom\":\"12px\",\"color\":\"#555\"}},[_vm._v(\" 画像と \"),_c('code',[_vm._v(\"*_keypoints.json\")]),_vm._v(\" がペアになったディレクトリを zip にしてアップロードします。\"),_c('br'),_vm._v(\" 例: \"),_c('code',[_vm._v(\"A001.png\")]),_vm._v(\" と \"),_c('code',[_vm._v(\"A001_keypoints.json\")]),_vm._v(\" がセット。 \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',{staticStyle:{\"margin-top\":\"16px\",\"color\":\"#777\",\"font-size\":\"13px\"}},[_vm._v(\" ※ バックエンド側では、zip を展開して画像と JSON を読み取り、\"),_c('br'),_vm._v(\" スケルトン17点を正規化した上でデータベースに格納する処理を実装します。 \")])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"dataset-upload\" style=\"padding:16px;\">\n    <h2 style=\"font-size:20px;margin-bottom:8px;\">データセット登録（画像＋JSON zip）</h2>\n    <p style=\"margin-bottom:12px;color:#555;\">\n      画像と <code>*_keypoints.json</code> がペアになったディレクトリを zip にしてアップロードします。<br>\n      例: <code>A001.png</code> と <code>A001_keypoints.json</code> がセット。\n    </p>\n\n    <div style=\"border:1px solid #ddd;border-radius:12px;padding:16px;max-width:520px;\">\n      <input type=\"file\" accept=\".zip\" @change=\"onFileChange\" />\n      <div v-if=\"selectedFile\" style=\"margin-top:8px;\">\n        選択中: <strong>{{ selectedFile.name }}</strong>\n      </div>\n\n      <button\n        :disabled=\"!selectedFile || uploading\"\n        @click=\"onUpload\"\n        style=\"margin-top:12px;\"\n      >\n        {{ uploading ? 'アップロード中...' : 'アップロード' }}\n      </button>\n\n      <p v-if=\"message\" :style=\"{marginTop:'12px', color: messageColor}\">\n        {{ message }}\n      </p>\n    </div>\n\n    <p style=\"margin-top:16px;color:#777;font-size:13px;\">\n      ※ バックエンド側では、zip を展開して画像と JSON を読み取り、<br>\n      スケルトン17点を正規化した上でデータベースに格納する処理を実装します。\n    </p>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'DatasetUpload',\n  data() {\n    return {\n      selectedFile: null,\n      uploading: false,\n      message: '',\n      messageColor: '#16a34a', // green\n    };\n  },\n  methods: {\n    onFileChange(e) {\n      const file = e.target.files && e.target.files[0];\n      this.selectedFile = file || null;\n      this.message = '';\n    },\n    async onUpload() {\n      if (!this.selectedFile) return;\n\n      this.uploading = true;\n      this.message = '';\n      try {\n        const formData = new FormData();\n        formData.append('file', this.selectedFile);\n\n        // ★ バックエンドのエンドポイント（要調整）\n        //   例: POST http://localhost:8080/api/dataset/upload\n        await axios.post('/api/dataset/uploadZip', formData, {\n          headers: { 'Content-Type': 'multipart/form-data' }\n        });\n\n        this.message = 'アップロードに成功しました。';\n        this.messageColor = '#16a34a';\n        this.selectedFile = null;\n      } catch (err) {\n        console.error(err);\n        this.message = 'アップロードに失敗しました（バックエンド未実装の可能性）。';\n        this.messageColor = '#dc2626'; // red\n      } finally {\n        this.uploading = false;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\nbutton {\n  padding: 6px 10px;\n  border:1px solid #ddd;\n  border-radius: 999px;\n  background: #fff;\n  cursor: pointer;\n}\nbutton:active { transform: scale(0.98); }\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DatasetUpload.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DatasetUpload.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DatasetUpload.vue?vue&type=template&id=4abf7bad&scoped=true\"\nimport script from \"./DatasetUpload.vue?vue&type=script&lang=js\"\nexport * from \"./DatasetUpload.vue?vue&type=script&lang=js\"\nimport style0 from \"./DatasetUpload.vue?vue&type=style&index=0&id=4abf7bad&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4abf7bad\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <header style=\"padding:12px 16px;border-bottom:1px solid #e5e7eb;display:flex;align-items:center;gap:8px;\">\n      <h1 style=\"font-size:20px;margin-right:16px;\">MVdecision Pose Search</h1>\n      <button\n        :class=\"['tab-btn', currentPage==='editor' ? 'active' : '']\"\n        @click=\"currentPage='editor'\"\n      >\n        ポーズ編集・検索\n      </button>\n      <button\n        :class=\"['tab-btn', currentPage==='upload' ? 'active' : '']\"\n        @click=\"currentPage='upload'\"\n      >\n        データセット登録\n      </button>\n\n      <div v-if=\"searchStatusText\" style=\"margin-left:auto;font-size:12px;color:#6b7280;\">\n        {{ searchStatusText }}\n      </div>\n    </header>\n\n    <main style=\"padding:0;\">\n      <coco-pose-editor\n        v-if=\"currentPage === 'editor'\"\n        @search=\"handleSearch\"\n      />\n      <dataset-upload v-else />\n    </main>\n  </div>\n</template>\n\n<script>\nimport CocoPoseEditor from './components/CocoPoseEditor.vue';\nimport DatasetUpload from './components/DatasetUpload.vue';\nimport axios from 'axios';\n\nexport default {\n  name: 'App',\n  components: {\n    CocoPoseEditor,\n    DatasetUpload\n  },\n  data() {\n    return {\n      currentPage: 'editor',  // 'editor' or 'upload'\n      isSearching: false,\n      searchStatusText: ''\n    };\n  },\n  methods: {\n    async handleSearch(payload) {\n      // CocoPoseEditor から渡された 17点のスケルトン\n      // payload = { keypoints: [...], width, height }\n\n      console.log('Search pose payload:', payload);\n      this.isSearching = true;\n      this.searchStatusText = '検索中...';\n\n      try {\n        // ★ 後で Spring Boot 側に実装する検索API。\n        //   例: POST http://localhost:8080/api/search/pose\n        const res = await axios.post('/api/search/pose', payload);\n        console.log('Search result:', res.data);\n        this.searchStatusText = '検索完了（バックエンドのレスポンスを画面に反映予定）';\n\n        // TODO: ここで検索結果（類似カット画像のURLなど）を別コンポーネントに流す\n        //       もしくはモーダル／サイドパネルで表示する\n      } catch (e) {\n        console.error(e);\n        this.searchStatusText = '検索エラー（バックエンド未実装の可能性）';\n      } finally {\n        this.isSearching = false;\n      }\n    }\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans JP', sans-serif;\n  color: #111827;\n  min-height: 100vh;\n  background: #f9fafb;\n}\n\n.tab-btn {\n  padding: 6px 10px;\n  border-radius: 999px;\n  border: 1px solid #d1d5db;\n  background: #fff;\n  font-size: 14px;\n  cursor: pointer;\n}\n.tab-btn.active {\n  background: #2563eb;\n  border-color: #2563eb;\n  color: #fff;\n}\n.tab-btn:active {\n  transform: scale(0.98);\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4e564a88\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=4e564a88&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcoco_pose_editor_vue2\"] = self[\"webpackChunkcoco_pose_editor_vue2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8529); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticStyle","_v","class","currentPage","on","$event","searchStatusText","_s","_e","handleSearch","staticRenderFns","staticClass","onRotate","onScale","onMirror","directives","name","rawName","value","ikEnabled","expression","domProps","Array","isArray","_i","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","onReset","onSavePose","onExport","onSearch","onImport","onBgUpload","ref","W","H","onMouseDown","onMouseMove","onMouseUp","results","length","_l","r","key","id","imageUrl","onImgError","displayPath","distance","toFixed","searchedOnce","data","ctx","points","initPose","savedPoses","currentVersion","dragIdx","bgImg","featurePreview","mounted","c","$refs","canvas","getContext","draw","beforeDestroy","window","removeEventListener","watch","deep","handler","computed","center","L","R","methods","clearRect","fillStyle","fillRect","drawImage","forEach","pose","pts","lineWidth","strokeStyle","EDGES","a","b","pa","pb","beginPath","moveTo","lineTo","stroke","p","arc","Math","PI","fill","i","font","fillText","KP_NAMES","pick","x","y","hypot","toCanvasXY","e","rect","getBoundingClientRect","sx","width","sy","height","clientX","left","clientY","top","addEventListener","P","map","idx","isLW","isRW","isLA","isRA","setDirect","newJoint","newEnd","solveTwoBone","transformAll","fn","cx","swap","t","deg","th","cos","s","sin","ctr","v","sf","saved","max","prev","snapshot","push","keypoints","featureRes","axios","post","featureVector","searchRes","topK","datasetName","imageFileName","imagePath","sourceImagePath","err","console","error","alert","ev","src","encodeURIComponent","out","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","document","createElement","href","download","click","revokeObjectURL","file","files","fr","FileReader","onload","j","parse","String","result","persons","Error","pickPerson","arr","best","bestScore","Infinity","sc","keypoint_scores","reduce","Number","person","rawKps","fitted","fitPointsToCanvas","warn","readAsText","img","Image","cy","min","root","joint","end","sub","add","mul","len","norm","clamp","lo","hi","v1","L1","L2","rt","d","u","cosA","sinA","sqrt","crossSign","sign","ortho","margin","minX","minY","maxX","maxY","isFinite","bw","bh","cxCanvas","cyCanvas","cxData","cyData","nx","ny","component","_m","onFileChange","selectedFile","uploading","onUpload","message","style","marginTop","color","messageColor","formData","FormData","append","headers","components","CocoPoseEditor","DatasetUpload","isSearching","payload","log","res","Vue","config","productionTip","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","priority","notFulfilled","fulfilled","Object","keys","every","splice","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}